[TOC]

# 面向对象与面向过程

## 面向过程编程和面向过程编程语言

### 面向对象

面向对象编程，是一种编程范式或编程风格。以**类或对象**作为**组织代码的基本单元**，并将**封装、抽象、继承、多态**四个特性，作为代码设计和实现的基石。

面向对象编程语言，是支持类或对象的语法机制，并有现成的语法机制，能方便地实现面向对象编程四大特性的编程语言。

### 面向过程

面向过程编程，是一种编程范式或编程风格。以**过程**（可以理解为方法、函数、操作）作为**组织代码的基本单元**，以数据（可以理解为成员变量、属性）与方法相分离为最主要的特点。面向过程风格，是一种流程化的编程风格，通过拼接一组顺序执行的方法来操作数据完成一项功能。

面向过程编程语言，首先是一种编程语言。最大的特点是，不支持类和对象两个语法概念，**不支持丰富的面向对象编程特性**（如继承、多态、封装），仅支持面向过程编程。

面向过程和面向对象最基本的区别：**代码的组织方式不同**。

- 面向过程风格代码，被组织成了一组方法集合及其数据结构，方法和数据结构的定义是分开的。
- 面向对象风格代码，被组织成了一组类，方法和数据结构被绑定一起，定义在类中。



## 面向对象编程比面向过程编程的优势

### 1. OOP 更加能够**应对大规模复杂程序的开发**
   1. 面向对象编程是**以类为思考对象**（开发模式、思考问题方式，应对复杂程序开发时思路更加清晰）
      1. 在进行面向对象编程时，先去思考如何给业务建模，如何给类之间建立交互关系，而完成这些工作完全不需要考虑错综复杂的处理流程。
      2. 当有了类的设计后，再像搭积木一样，按照处理流程，将类组装起来形成整个程序。
   2. 面向对象编程提供了一种**更加清晰的、更加模块化的代码组织方式**。（类就是一种非常好的组织这些函数和数据结构的方式，是一种将代码模块化的有效手段）
   3. 利用面向过程的编程语言也可以写出面向对象风格的代码，只不过可能会比使用面向对象编程语言来实现，付出的**代价要高**一些。
### 2. OOP 风格的代码更**易复用**、**易扩展**、**易维护**（面向对象四大基本特性支持）
   1. 封装特性
      1. OOP 较面向过程编程一个最基本的区别
      2. OOP 通过类这种组织代码的方式，将数据和方法绑定在一起，通过访问权限控制，只允许外部调用者通过类暴露的有限方法访问数据；而不会像面向过程编程那样，数据可以被任意方法随意修改。
      3. OOP 更有利于提高代码的**易维护性**。
   2. 抽象特性
      1. 函数本身就是一种抽象，隐藏了具体的实现。
         1. 这一点上，面向过程和面向对象编程，都支持抽象特性。
      2. 面向对象编程还提供了其他抽象的实现方式，面向过程编程不具备
         1. 基于接口实现的抽象：可以在不改变原有实现的情况下，轻松替换新的实现逻辑，提高代码的**可扩展性**。
   3. 继承特性
      1. OOP 相比于面向过程编程所特有的两个特性之一。
      2. 相同的代码（属性和方法）抽取到父类中，重用代码，提高代码的**复用性**。
   4. 多态特性
      1. OOP 相比于面向过程编程所特有的两个特性之一。
      2. 在实际代码运行过程中，调用子类新功能逻辑，而不用在原有代码上修改，遵从开闭原则，提高代码的**扩展性**。
      3. 不同类对象可以传递给相同方法，执行不同的代码逻辑，提高代码的**复用性**。
### 3. OOP 语言**更加人性化**、**更加高级**、**更加智能**
   1. 从二进制指令、汇编语言到面向过程编程语言，是一个非常自然的过度，都是一种流程化的、面条式的编程风格，用一组指令顺序操作数据，来完成一项任务。是一种**计算机思维方式**。
   2. 编程语言不断演进，越来越人性化，让人跟机器打交道越来越容易，越来越高级。
   3. 面向对象编程语言，是一种**人类的思维方式**。

## 违反面向对象编程风格的典型代码设计

三个典型例子

### 滥用 setter、getter 方法

类所有属性，默认提供 public 的 setter、getter 方法，不是很好的设计。违反了面向对象编程的封装特性，相当于将面向对象编程风格退化成了面向过程编程风格。

如果返回类型是集合容器，需要注意，防范集合内部数据被修改的风险。
使用 Collections.unmodifiableList() 方法，防止被修改。

### 滥用全局变量和全局方法

常见的全局变量：

- 单例类对象
- 静态成员变量
- 常量

常见的全局方法：

- 静态方法

#### Constants 类

把程序中所有用到的常量，都集中放到一个 Constants 类中，定义一个大而全的类，不是一种很好的设计思路，原因如下：

1. 影响代码的可维护性
2. 增加代码的编译时间
3. 影响代码的复用性

优化设计：

1. 拆解为功能职责单一、细化的小类，如 MysqlConstants、RedisConstants 等。
2. 并不单独设计 Constants 常量类，而是直接在使用这个常量的类中定义，提高了类设计的内聚性和代码的复用性。

#### Utils 类

只包含静态方法，不包含任何属性的 Utils 类，是彻底的面向过程的编程风格。

即使在面向对象编程中，也并不是完全排斥面向过程风格的代码，只要能为写出更好的代码贡献力量，就可以适度地去使用。

类比 Constants 类设计，在设计 Utils 类时，针对功能细化，如 FileUtils、IOUtils 等。


### 定义数据和方法分离的类

基于贫血模型的开发模式

MVC 结构，数据定义在一个类中，方法定义在另一个类中。
数据定义在 VO（View Object）、BO（Business Object）、Entity 中，而方法定义在对应的 Controller 类、Service 类、Repository 类中。


## 在面向对象编程中，为什么容易写出面向过程风格的代码？

1. 感觉面向过程风格的代码更容易写，因为面向过程编程风格符合人的流程化思维方式。而面向对象编程风格正好相反，是一种自底向上的思考方式。
2. 面向对象编程要比面向过程编程难一些。面向对象编程中，类的设计需要技巧和设计经验，需要思考数据和方法封装到一个类中，类之间的关系，以及类之间的交互等设计问题。


## 面向过程编程及面向过程编程语言是否还有用武之地？

1. 微小程序，或是一个数据处理相关的代码，以算法为主，数据为辅，脚本式的面向过程的编程风格更适合一些。
2. 面向过程编程，是面向对象编程的**基础**，类中每个方法的实现逻辑，是面向过程风格的代码。
3. 两种编程风格，不是非黑即白、完全对立的关系，在一些标准开发库中，也有很多面向过程风格的代码。
4. 最终目的是，写出易维护、易读、易复用、易扩展的高质量代码，只要避免面向过程编程风格的一些弊端，控制好副作用，在掌控范围内为我所用即可。
